<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Lambda Notes</title>
  <!-- CSS Styles are 100% Optional! -->
  <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/pure-min.css">

</head>
<body>
  <h1>Make Your Notes Below</h1>

  <textarea id="notes" name="textarea" rows="10" cols="50" placeholder="Make your notes here"></textarea>
  <br/>
  <button id="save" class="pure-button pure-button-primary">Save</button>

<!-- Litterally *Everyone* Knows jQuery ... see: http://trends.builtwith.com/javascript/jQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
<script>
  var API_KEY = 'x1TMsafJaB4z4mWpmhjck8XtU1yrryAy9aolqpvU';

  $(document).ready(function() {

    function getNotes () {

      $.ajax({
        type: "GET",
        headers: { 'x-api-key' : API_KEY },
        url: "https://mhaggkho54.execute-api.eu-west-1.amazonaws.com/prod/",
        dataType: "json",
        success: function(res, status, xhr) {
          console.log(' - - - - - - - - getNotes res:')
          console.log(res);
          // $('#notes').val(res.notes);
        },
        error: function(xhr, err) {
          console.log(xhr);
          console.log(err);
        }
      });
    }

    getNotes();

    function postNotes () {

      $.ajax({
        type: "POST",
        headers: { 'x-api-key' : API_KEY },
        url: "https://mhaggkho54.execute-api.eu-west-1.amazonaws.com/prod/",
        data: {"notes" : $('#notes').val() },
        dataType: "json",
        success: function(res, status, xhr) {
          console.log(' - - - - - - - - getNotes res:')
          console.log(res);

        },
        error: function(xhr, err) {
          console.log(xhr);
          console.log(err);
        }
      });
    }

    $( "#save" ).click(function() {
      console.log('Save Button Clicked!');
      postNotes();
    });


  });
</script>

</body>
</html>
